import{d as z,i as R,a as L,r as x,G as E,c as d,B as U,o as i,e as c,g as e,w as a,h as u,f,n as N,C as m,D as k,k as V,p as $}from"./index-5927132b.js";import{c as W}from"./upload-930e7cfd.js";import"./request-7267a692.js";const q={class:"mb20px flex"},A={key:0,class:"w72px h24px line-height-24px text-center bg-#52C41A rounded-2px inline-block color-#fff"},G={key:1,class:"w72px h24px line-height-24px text-center bg-#F0F1F5 rounded-2px inline-block"},j={key:2,class:"w72px h24px line-height-24px text-center bg-#F53F3F rounded-2px inline-block color-#fff"},H={key:0,class:"w72px h24px line-height-24px text-center bg-#FF9900 rounded-2px inline-block color-#fff"},I={key:1,class:"w72px h24px line-height-24px text-center bg-#C9CDD4 rounded-2px inline-block"},J=z({name:"internal-menu"}),X=z({...J,setup(K){const B=R(),D=L(),_=x(!1),g=x([]),p=x({pageSize:10,pageNo:1,total:0}),h=(n,o)=>{console.log(n,o)},v=(n,o)=>{console.log(n,o)},s=x("1"),C=n=>{s.value=n},y=()=>{_.value=!0,W({id:B.query.id,type:s.value}).then(n=>{p.value.total=n.data.totalNumber,g.value=n.data.list}).finally(()=>{_.value=!1})};E(()=>{y()});const S=()=>{D.replace("/tools/upload")};return(n,o)=>{const r=d("el-button"),l=d("el-table-column"),F=d("el-table"),T=d("ly-pagination"),P=d("LyPageWrapper"),w=U("loading");return i(),c("div",null,[e(P,{title:"上传记录"},{toolButton:a(()=>[e(r,{type:"primary",plain:"",onClick:S},{default:a(()=>[u(" 返回 ")]),_:1})]),default:a(()=>[f("div",q,[f("div",{class:N(["py5px px16px bg-#F4F5F7 rounded-100px mr14px cursor-pointer",s.value==="1"?"bg-#0A4CDE! color-#fff":""]),onClick:o[0]||(o[0]=t=>C("1"))}," 已上传 ",2),f("div",{class:N(["py5px px16px bg-#F4F5F7 rounded-100px cursor-pointer",s.value==="2"?"bg-#0A4CDE! color-#fff":""]),onClick:o[1]||(o[1]=t=>C("2"))}," 待上传 ",2)]),m(f("div",null,[m((i(),V(F,{data:g.value},{default:a(()=>[e(l,{label:"文件名称",prop:"fileName"}),e(l,{label:"文件版本号",prop:"fileVersion"}),e(l,{label:"文件大小",prop:"fileSize"}),e(l,{label:"文件行数",prop:"fileRow"}),e(l,{label:"状态",prop:"status"},{default:a(({row:t})=>[t.status==="1"?(i(),c("span",A,"上传成功")):t.status==="2"?(i(),c("span",G,"上传中...")):t.status==="3"?(i(),c("span",j,"上传失败")):$("",!0)]),_:1}),e(l,{label:"操作人",prop:"operator"}),e(l,{label:"上传时间",prop:"createTime","min-width":"100"}),e(l,{label:"更新时间",prop:"updateTime","min-width":"100"}),e(l,{label:"操作",align:"center",width:"120",fixed:"right"},{default:a(({row:t})=>[e(r,{type:"primary",link:"",plain:"",onClick:b=>h("view",t)},{default:a(()=>[u(" 查看 ")]),_:2},1032,["onClick"]),e(r,{type:"primary",link:"",plain:"",onClick:b=>h("delete",t)},{default:a(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[w,_.value]]),m(e(T,{page:p.value.pageNo,"onUpdate:page":o[2]||(o[2]=t=>p.value.pageNo=t),limit:p.value.pageSize,"onUpdate:limit":o[3]||(o[3]=t=>p.value.pageSize=t),total:p.value.total,onPagination:y},null,8,["page","limit","total"]),[[k,p.value.total>0]])],512),[[k,s.value==="1"]]),m(f("div",null,[m((i(),V(F,{data:g.value},{default:a(()=>[e(l,{label:"文件名称",prop:"fileName"}),e(l,{label:"文件大小",prop:"fileSize"}),e(l,{label:"状态",prop:"status"},{default:a(({row:t})=>[t.status==="4"?(i(),c("span",H,"待上传")):t.status==="5"?(i(),c("span",I,"已取消")):$("",!0)]),_:1}),e(l,{label:"操作人",prop:"operator"}),e(l,{label:"上传时间",prop:"createTime","min-width":"100"}),e(l,{label:"更新时间",prop:"updateTime","min-width":"100"}),e(l,{label:"操作",align:"center",width:"300",fixed:"right"},{default:a(({row:t})=>[e(r,{type:"primary",link:"",plain:"",onClick:b=>v("1",t)},{default:a(()=>[u(" 继续上传 ")]),_:2},1032,["onClick"]),e(r,{type:"primary",link:"",plain:"",onClick:b=>v("2",t)},{default:a(()=>[u(" 取消上传 ")]),_:2},1032,["onClick"]),e(r,{type:"primary",link:"",plain:"",onClick:b=>v("3",t)},{default:a(()=>[u(" 对比上次数据变动 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[w,_.value]])],512),[[k,s.value==="2"]])]),_:1})])}}});export{X as default};
//# sourceMappingURL=upload-record-e0f2b3cb.js.map
